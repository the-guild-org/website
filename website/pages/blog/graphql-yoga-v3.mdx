---
title: GraphQL Yoga v3
tags: [graphql, svelte]
authors: [saihaj, laurin, arda]
date: 2022-11-15
description: The new version of GraphQL Yoga is out! Learn what has improved and what is new!
image: /x
thumbnail: /x
---

After months of experimentation and learning from production use cases we are back again with a ground breaking release for GraphQL Yoga. The goal with Yoga is to empower developers, makes realtime easy and run anywhere.

## The Yoga v3 Experience

### Single package to rule them all

From GraphQL Yoga v2 we figure that using the `fetch` API as standard is the way to go. Now GraphQL Yoga has a single NPM package for all environments `graphql-yoga` instead of `@graphql yoga/common` and `@graphql-yoga/node`. We [created a library that lets you create cross-platform](https://www.the-guild.dev/blog/fetch-for-servers) and that is what GraphQL Yoga v3 uses.

### The Makeover

GraphQL Yoga v3 comes with the brand new GraphiQL 2.0

![GraphiQL](https://raw.githubusercontent.com/graphql/graphiql/main/packages/graphiql/resources/graphiql.png)

### 100% compliant

As of today, GraphQL Yoga is only GraphQL servers in the ecosystem which complies with GraphQL over HTTP specification.

| Name                     | Pass ✅ | Warning ⚠️ | Errors ❌ |
| ------------------------ | ------- | ---------- | --------- |
| `graphql-yoga`           | 72      | 0          | 0         |
| `apollo-server@3.10.2`   | 42      | 29         | 1         |
| `express-graphql@0.12.0` | 36      | 35         | 1         |
| `graphql-helix@1.13.0`   | 39      | 32         | 1         |
| `mercurius@11.0.0`       | 41      | 30         | 1         |

### Yoga as a Gateway

GraphQL Yoga has been built-in real-world conditions within our projects (e.g. GraphQL Mesh, GraphQL Hive) and with some of our clients and performance is highly prioritized.
We continuously keep track and improve performance. We have a rigorous test suite to avoid any regressions.
The ease of using GraphQL Yoga anywhere and performance make it a great candidate to run as a gateway.
Yoga is compliant with Apollo Federation spec so you can use it for federated services.

### Incremental delivery

In [Yoga v2 we added support for `@defer` and `@stream`](https://www.the-guild.dev/blog/announcing-graphql-yoga-v2#graphql-features-from-the-future) but it was not simple for users to use it, they had to deal with multiple versions of GraphQL.js which is not easy thing to do.

For GraphQL Yoga v3 we created a custom execution engine (more information soon!) and you can simply enable defer and stream by using a Yoga plugin.

```ts
import { createYoga } from 'graphql-yoga'
import { createServer } from 'node:http'
import { useDeferStream } from '@graphql-yoga/plugin-defer-stream'
import { schema } from './schema.js'

const yoga = createYoga({
  schema,
  plugins: [useDeferStream()]
})

const server = createServer(yoga)

server.listen(4000, () => {
  console.info('Server is running on http://localhost:4000/graphql')
})
```

### Not only GraphQL but also REST

There are many reasons why one would want a REST endpoint. The Sofa API plugin makes it easy to convert any GraphQL API to REST API and in Yoga v3.

```ts
import { createYoga } from 'graphql-yoga'
import { createServer } from 'node:http'
import { useSofaWithSwaggerUI } from '@graphql-yoga/plugin-sofa'
import { schema } from './schema.js'

export const yoga = createYoga({
  schema,
  plugins: [
    useSofaWithSwaggerUI({
      basePath: '/rest',
      swaggerUIEndpoint: '/swagger',
      servers: [
        {
          url: '/', // Specify Server's URL.
          description: 'Development server'
        }
      ],
      info: {
        title: 'Example API',
        version: '1.0.0'
      }
    })
  ]
})

const server = createServer(yoga)
server.listen(4000, () => {
  console.info('Server is running on http://localhost:4000/graphql')
})
```

### What is next?

We want **you to leverage all the GraphQL ecosystem** by being compatible with most of the existing schema-design, HTTP server libraries, and deployment environments. There are many more features so don’t forget to check those out [https://www.the-guild.dev/graphql/yoga-server/docs](https://www.the-guild.dev/graphql/yoga-server/docs)

We have [migration guide](https://www.the-guild.dev/graphql/yoga-server/v3/migration/migration-from-yoga-v2) try it out! We can’t wait answer your [questions](https://github.com/dotansimha/graphql-yoga) and get your feedback on how we can make GraphQL Yoga even more better!

Don't hesitate to reach out to us on Twitter and support us by [sharing this article!](<https://twitter.com/intent/tweet?text=GraphQL%20Yoga%20is%20out%202.0%20%F0%9F%8E%89%0A%0ABuild%20fast%2C%20extensible%2C%20and%20spec-compliant%20GraphQL%20APIs%20in%20Node.js%20with%20Subscriptions%2C%20Serverless%2C%20File%20uploads%20support%20(and%20more!)%20%F0%9F%9A%80%0A%0A%0Ahttps%3A%2F%2Fthe-guild.dev%2Fblog%2Fannouncing-graphql-yoga-2>)
